<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Simulaci√≥n 51% Attack - Bitcoin (Mejorada)</title>
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #0d1117 0%, #161b22 100%);
    color: #e6edf3;
    margin: 0;
    padding: 20px;
    min-height: 100vh;
  }
  
  h1 {
    color: #7cff9e;
    text-align: center;
    font-size: 2.5em;
    text-shadow: 0 0 20px rgba(124, 255, 158, 0.3);
    margin-bottom: 30px;
  }
  
  .controls {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 30px;
    flex-wrap: wrap;
  }
  
  button {
    padding: 12px 20px;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 14px;
  }
  
  button.active {
    background: linear-gradient(135deg, #7cff9e, #56d364);
    color: #000;
    box-shadow: 0 4px 15px rgba(124, 255, 158, 0.3);
  }
  
  button:not(.active) {
    background: #30363d;
    color: #c9d1d9;
    border: 1px solid #21262d;
  }
  
  button:hover:not(.active) {
    background: #4a525a;
    transform: translateY(-2px);
  }
  
  .scene {
    display: none;
    margin-top: 20px;
    background: rgba(22, 27, 34, 0.6);
    backdrop-filter: blur(10px);
    padding: 25px;
    border-radius: 15px;
    border: 1px solid rgba(124, 255, 158, 0.1);
  }
  
  .hashrate-display {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin: 25px 0;
    padding: 20px;
    background: rgba(13, 17, 23, 0.8);
    border-radius: 12px;
    border: 1px solid #30363d;
  }
  
  .hashrate-meter {
    background: #161b22;
    border-radius: 8px;
    padding: 15px;
    border: 1px solid #30363d;
  }
  
  .hashrate-label {
    font-size: 14px;
    color: #9da7b3;
    margin-bottom: 8px;
  }
  
  .hashrate-value {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 10px;
  }
  
  .honest .hashrate-value {
    color: #7cff9e;
  }
  
  .attacker .hashrate-value {
    color: #ff6b6b;
  }
  
  .hashrate-bar {
    width: 100%;
    height: 8px;
    background: #30363d;
    border-radius: 4px;
    overflow: hidden;
    position: relative;
  }
  
  .hashrate-fill {
    height: 100%;
    border-radius: 4px;
    transition: all 0.5s ease;
    position: relative;
    overflow: hidden;
  }
  
  .honest .hashrate-fill {
    background: linear-gradient(90deg, #7cff9e, #56d364);
  }
  
  .attacker .hashrate-fill {
    background: linear-gradient(90deg, #ff6b6b, #ff4757);
  }
  
  .hashrate-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    animation: shine 2s infinite;
  }
  
  @keyframes shine {
    0% { left: -100%; }
    100% { left: 100%; }
  }
  
  .chain-container {
    margin: 25px 0;
  }
  
  .chain-label {
    font-size: 18px;
    font-weight: bold;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  
  .chain-status {
    font-size: 12px;
    padding: 4px 8px;
    border-radius: 4px;
    font-weight: normal;
  }
  
  .honest .chain-status {
    background: rgba(124, 255, 158, 0.2);
    color: #7cff9e;
  }
  
  .attacker .chain-status {
    background: rgba(255, 107, 107, 0.2);
    color: #ff6b6b;
  }
  
  .chain {
    display: flex;
    gap: 12px;
    margin: 15px 0;
    overflow-x: auto;
    padding: 10px 0;
  }
  
  .block {
    width: 80px;
    height: 80px;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: bold;
    color: #000;
    position: relative;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    transition: all 0.3s ease;
    cursor: pointer;
    min-width: 80px;
  }
  
  .block:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.4);
  }
  
  .honest .block {
    background: linear-gradient(135deg, #7cff9e, #56d364);
    border: 2px solid #4cc947;
  }
  
  .attacker .block {
    background: linear-gradient(135deg, #ff6b6b, #ff4757);
    border: 2px solid #ff3742;
  }
  
  .block-mining {
    animation: mining 1s infinite;
  }
  
  @keyframes mining {
    0%, 100% { opacity: 0.7; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.05); }
  }
  
  .block-number {
    font-size: 14px;
    font-weight: bold;
  }
  
  .block-detail {
    font-size: 10px;
    text-align: center;
    margin-top: 4px;
    opacity: 0.8;
  }
  
  .tx-pool {
    background: rgba(22, 27, 34, 0.8);
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
    border: 1px solid #30363d;
  }
  
  .tx-item {
    background: #161b22;
    border-radius: 8px;
    padding: 12px;
    margin: 8px 0;
    border-left: 4px solid #7cff9e;
    transition: all 0.3s ease;
  }
  
  .tx-item:hover {
    background: #21262d;
    transform: translateX(5px);
  }
  
  .tx-censored {
    border-left-color: #ff6b6b;
    opacity: 0.6;
    text-decoration: line-through;
  }
  
  .highlight {
    color: #ffcb6b;
    font-weight: bold;
    text-shadow: 0 0 10px rgba(255, 203, 107, 0.3);
  }
  
  .attack-progress {
    background: rgba(22, 27, 34, 0.8);
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
    border: 1px solid #ff6b6b;
  }
  
  .progress-bar {
    width: 100%;
    height: 12px;
    background: #30363d;
    border-radius: 6px;
    overflow: hidden;
    margin: 10px 0;
  }
  
  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #ff6b6b, #ff4757);
    transition: width 0.5s ease;
    border-radius: 6px;
  }
  
  .simulation-controls {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin: 25px 0;
    flex-wrap: wrap;
  }
  
  .sim-button {
    background: #238636;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s ease;
  }
  
  .sim-button:hover {
    background: #2ea043;
    transform: translateY(-2px);
  }
  
  .sim-button:disabled {
    background: #30363d;
    color: #6b7280;
    cursor: not-allowed;
    transform: none;
  }
  
  .note {
    background: rgba(255, 203, 107, 0.1);
    border: 1px solid rgba(255, 203, 107, 0.3);
    border-radius: 8px;
    padding: 15px;
    margin-top: 25px;
    font-size: 14px;
    color: #ffcb6b;
  }
  
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin: 20px 0;
  }
  
  .stat-card {
    background: rgba(22, 27, 34, 0.8);
    border-radius: 8px;
    padding: 15px;
    border: 1px solid #30363d;
    text-align: center;
  }
  
  .stat-value {
    font-size: 24px;
    font-weight: bold;
    color: #7cff9e;
  }
  
  .stat-label {
    font-size: 12px;
    color: #9da7b3;
    margin-top: 5px;
  }
  
  @media (max-width: 768px) {
    .hashrate-display {
      grid-template-columns: 1fr;
    }
    
    .chain {
      gap: 8px;
    }
    
    .block {
      width: 60px;
      height: 60px;
      font-size: 10px;
    }
  }
</style>
</head>
<body>
  <h1>üîó Bitcoin - Simulaci√≥n Avanzada de Ataque 51%</h1>
  
  <div class="controls">
    <button data-scene="1" class="active">Red Normal</button>
    <button data-scene="2">Double Spend Attack</button>
    <button data-scene="3">Censura de Transacciones</button>
    <button data-scene="4">Simulaci√≥n en Vivo</button>
  </div>

  <!-- Escena 1: Red Normal -->
  <div class="scene" id="scene1" style="display:block">
    <h2>üü¢ Red Bitcoin en Funcionamiento Normal</h2>
    
    <div class="hashrate-display">
      <div class="hashrate-meter honest">
        <div class="hashrate-label">Red Honesta</div>
        <div class="hashrate-value" id="honest-hashrate">425.5 EH/s</div>
        <div class="hashrate-bar">
          <div class="hashrate-fill" style="width: 100%"></div>
        </div>
        <div style="font-size: 12px; color: #9da7b3; margin-top: 5px;">~95% del poder total</div>
      </div>
      
      <div class="hashrate-meter attacker">
        <div class="hashrate-label">Mineros Individuales</div>
        <div class="hashrate-value" id="individual-hashrate">22.4 EH/s</div>
        <div class="hashrate-bar">
          <div class="hashrate-fill" style="width: 5%"></div>
        </div>
        <div style="font-size: 12px; color: #9da7b3; margin-top: 5px;">~5% del poder total</div>
      </div>
    </div>
    
    <div class="chain-container honest">
      <div class="chain-label">
        Blockchain de Bitcoin
        <span class="chain-status">ACTIVA</span>
      </div>
      <div class="chain">
        <div class="block">
          <div class="block-number">865120</div>
          <div class="block-detail">1,247 tx</div>
        </div>
        <div class="block">
          <div class="block-number">865121</div>
          <div class="block-detail">2,156 tx</div>
        </div>
        <div class="block">
          <div class="block-number">865122</div>
          <div class="block-detail">1,893 tx</div>
        </div>
        <div class="block block-mining">
          <div class="block-number">‚õèÔ∏è</div>
          <div class="block-detail">minando...</div>
        </div>
      </div>
    </div>
    
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value">~10 min</div>
        <div class="stat-label">Tiempo entre bloques</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">99.9%</div>
        <div class="stat-label">Uptime de la red</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">15,000+</div>
        <div class="stat-label">Nodos activos</div>
      </div>
    </div>
    
    <div class="tx-pool">
      <h3>üí∞ Pool de Transacciones</h3>
      <div class="tx-item">
        <strong>Alice</strong> ‚Üí Bob: <span class="highlight">0.5 BTC</span> (Fee: 0.0001 BTC)
      </div>
      <div class="tx-item">
        <strong>Charlie</strong> ‚Üí Diana: <span class="highlight">2.1 BTC</span> (Fee: 0.0002 BTC)
      </div>
      <div class="tx-item">
        <strong>Exchange</strong> ‚Üí Usuario: <span class="highlight">10.0 BTC</span> (Fee: 0.0005 BTC)
      </div>
    </div>
  </div>

  <!-- Escena 2: Double Spend -->
  <div class="scene" id="scene2">
    <h2>üö® Ataque Double Spend</h2>
    
    <div class="hashrate-display">
      <div class="hashrate-meter honest">
        <div class="hashrate-label">Red Honesta</div>
        <div class="hashrate-value">210.2 EH/s</div>
        <div class="hashrate-bar">
          <div class="hashrate-fill" style="width: 45%"></div>
        </div>
        <div style="font-size: 12px; color: #9da7b3; margin-top: 5px;">45% del poder total</div>
      </div>
      
      <div class="hashrate-meter attacker">
        <div class="hashrate-label">üé≠ Atacante</div>
        <div class="hashrate-value">257.3 EH/s</div>
        <div class="hashrate-bar">
          <div class="hashrate-fill" style="width: 55%"></div>
        </div>
        <div style="font-size: 12px; color: #9da7b3; margin-top: 5px;">55% del poder total</div>
      </div>
    </div>
    
    <div class="attack-progress">
      <h3>üìä Progreso del Ataque</h3>
      <div>Fase: <span class="highlight">Minado secreto en progreso...</span></div>
      <div class="progress-bar">
        <div class="progress-fill" style="width: 75%"></div>
      </div>
      <div style="font-size: 12px; margin-top: 5px;">El atacante est√° 2 bloques por delante</div>
    </div>
    
    <div class="chain-container honest">
      <div class="chain-label">
        üåê Cadena P√∫blica (lo que ve la red)
        <span class="chain-status">VULNERABLE</span>
      </div>
      <div class="chain">
        <div class="block">
          <div class="block-number">865120</div>
          <div class="block-detail">base</div>
        </div>
        <div class="block">
          <div class="block-number">865121</div>
          <div class="block-detail">1,247 tx</div>
        </div>
        <div class="block">
          <div class="block-number">865122</div>
          <div class="block-detail">üõí Pago tienda</div>
        </div>
        <div class="block">
          <div class="block-number">865123</div>
          <div class="block-detail">confirmado</div>
        </div>
      </div>
    </div>
    
    <div class="chain-container attacker">
      <div class="chain-label">
        üîí Cadena Secreta del Atacante
        <span class="chain-status">OCULTA</span>
      </div>
      <div class="chain">
        <div class="block">
          <div class="block-number">865120</div>
          <div class="block-detail">base</div>
        </div>
        <div class="block">
          <div class="block-number">865121</div>
          <div class="block-detail">tx alternativas</div>
        </div>
        <div class="block">
          <div class="block-number">865122</div>
          <div class="block-detail">üí∞ Auto-pago</div>
        </div>
        <div class="block">
          <div class="block-number">865123</div>
          <div class="block-detail">oculto</div>
        </div>
        <div class="block">
          <div class="block-number">865124</div>
          <div class="block-detail">ventaja +1</div>
        </div>
        <div class="block">
          <div class="block-number">865125</div>
          <div class="block-detail">ventaja +2</div>
        </div>
      </div>
    </div>
    
    <div class="tx-pool">
      <h3>‚ö†Ô∏è Resultado del Ataque</h3>
      <div class="tx-item">
        <strong>Paso 1:</strong> Atacante compra producto por <span class="highlight">10 BTC</span>
      </div>
      <div class="tx-item">
        <strong>Paso 2:</strong> Transacci√≥n se confirma en cadena p√∫blica ‚Üí Recibe producto
      </div>
      <div class="tx-item tx-censored">
        <strong>Paso 3:</strong> Atacante publica cadena m√°s larga ‚Üí Transacci√≥n de pago desaparece
      </div>
      <div class="tx-item" style="border-left-color: #ff6b6b;">
        <strong>Resultado:</strong> Atacante tiene el producto Y conserva sus 10 BTC üéØ
      </div>
    </div>
  </div>

  <!-- Escena 3: Censura -->
  <div class="scene" id="scene3">
    <h2>üîá Censura de Transacciones</h2>
    
    <div class="hashrate-display">
      <div class="hashrate-meter honest">
        <div class="hashrate-label">Mineros Honestos</div>
        <div class="hashrate-value">200.1 EH/s</div>
        <div class="hashrate-bar">
          <div class="hashrate-fill" style="width: 40%"></div>
        </div>
        <div style="font-size: 12px; color: #9da7b3; margin-top: 5px;">40% del poder total</div>
      </div>
      
      <div class="hashrate-meter attacker">
        <div class="hashrate-label">üö´ Atacante Censor</div>
        <div class="hashrate-value">300.4 EH/s</div>
        <div class="hashrate-bar">
          <div class="hashrate-fill" style="width: 60%"></div>
        </div>
        <div style="font-size: 12px; color: #9da7b3; margin-top: 5px;">60% del poder total</div>
      </div>
    </div>
    
    <div class="chain-container attacker">
      <div class="chain-label">
        Blockchain Controlada
        <span class="chain-status">CENSURADA</span>
      </div>
      <div class="chain">
        <div class="block">
          <div class="block-number">865120</div>
          <div class="block-detail">base</div>
        </div>
        <div class="block">
          <div class="block-number">865121</div>
          <div class="block-detail">‚úÖ Bob, Charlie</div>
        </div>
        <div class="block">
          <div class="block-number">865122</div>
          <div class="block-detail">‚úÖ Diana, Eve</div>
        </div>
        <div class="block">
          <div class="block-number">865123</div>
          <div class="block-detail">‚ùå Alice ignorada</div>
        </div>
      </div>
    </div>
    
    <div class="tx-pool">
      <h3>üìã Estado de Transacciones</h3>
      <div class="tx-item">
        <strong>Bob</strong> ‚Üí Charlie: <span class="highlight">1.5 BTC</span> 
        <span style="color: #7cff9e;">‚úÖ INCLUIDA</span>
      </div>
      <div class="tx-item">
        <strong>Diana</strong> ‚Üí Eve: <span class="highlight">0.8 BTC</span> 
        <span style="color: #7cff9e;">‚úÖ INCLUIDA</span>
      </div>
      <div class="tx-item tx-censored">
        <strong>Alice</strong> ‚Üí Frank: <span class="highlight">2.0 BTC</span> (Fee: 0.001 BTC)
        <span style="color: #ff6b6b;">‚ùå CENSURADA</span>
      </div>
      <div class="tx-item tx-censored">
        <strong>Alice</strong> ‚Üí Grace: <span class="highlight">0.5 BTC</span> (Fee: 0.005 BTC)
        <span style="color: #ff6b6b;">‚ùå CENSURADA</span>
      </div>
    </div>
    
    <div class="attack-progress">
      <h3>üéØ Impacto de la Censura</h3>
      <p>El atacante decide sistem√°ticamente <strong>excluir todas las transacciones de Alice</strong>, 
      sin importar las comisiones que ofrezca.</p>
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-value" style="color: #ff6b6b;">‚àû</div>
          <div class="stat-label">Tiempo de espera de Alice</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" style="color: #ff6b6b;">0</div>
          <div class="stat-label">Tx de Alice confirmadas</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Escena 4: Simulaci√≥n en Vivo -->
  <div class="scene" id="scene4">
    <h2>üéÆ Simulaci√≥n Interactiva</h2>
    
    <div class="simulation-controls">
      <button class="sim-button" onclick="startAttack()">üöÄ Iniciar Ataque 51%</button>
      <button class="sim-button" onclick="increaseHashrate()">‚¨ÜÔ∏è Aumentar Hashrate</button>
      <button class="sim-button" onclick="resetSimulation()">üîÑ Reiniciar</button>
    </div>
    
    <div class="hashrate-display">
      <div class="hashrate-meter honest">
        <div class="hashrate-label">Red Honesta</div>
        <div class="hashrate-value" id="sim-honest">300.0 EH/s</div>
        <div class="hashrate-bar">
          <div class="hashrate-fill" id="honest-bar" style="width: 60%"></div>
        </div>
        <div style="font-size: 12px; color: #9da7b3; margin-top: 5px;" id="honest-percent">60% del poder total</div>
      </div>
      
      <div class="hashrate-meter attacker">
        <div class="hashrate-label">Tu Ataque</div>
        <div class="hashrate-value" id="sim-attacker">200.0 EH/s</div>
        <div class="hashrate-bar">
          <div class="hashrate-fill" id="attacker-bar" style="width: 40%"></div>
        </div>
        <div style="font-size: 12px; color: #9da7b3; margin-top: 5px;" id="attacker-percent">40% del poder total</div>
      </div>
    </div>
    
    <div class="chain-container" id="sim-chain-container">
      <div class="chain-label">
        Estado de la Red: <span id="network-status" class="highlight">SEGURA</span>
      </div>
      <div id="simulation-log" style="background: #0d1117; padding: 15px; border-radius: 8px; font-family: monospace; font-size: 14px; max-height: 200px; overflow-y: auto;">
        <div>üü¢ Red Bitcoin iniciada...</div>
        <div>‚õèÔ∏è Mineros honestos trabajando...</div>
        <div>üîí Red segura con distribuci√≥n descentralizada</div>
      </div>
    </div>
    
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value" id="attack-cost">$0M</div>
        <div class="stat-label">Costo estimado del ataque</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="success-chance">0%</div>
        <div class="stat-label">Probabilidad de √©xito</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="blocks-mined">0</div>
        <div class="stat-label">Bloques minados</div>
      </div>
    </div>
  </div>

  <div class="note">
    ‚ö†Ô∏è <strong>Nota Importante:</strong> Estos escenarios son puramente educativos. Un ataque del 51% 
    real en Bitcoin requerir√≠a inversiones de <strong>decenas de miles de millones de d√≥lares</strong> 
    y ser√≠a extremadamente dif√≠cil de ejecutar debido a la descentralizaci√≥n masiva de la red.
    <br><br>
    üí° <strong>Datos Reales:</strong> Bitcoin mantiene un hashrate de ~500 EH/s distribuido entre 
    miles de mineros globalmente, haciendo virtualmente imposible que una sola entidad controle >51%.
  </div>

<script>
  let simulationData = {
    honestHashrate: 300,
    attackerHashrate: 200,
    totalCost: 0,
    blocksMined: 0,
    isAttacking: false
  };

  const buttons = document.querySelectorAll("button[data-scene]");
  const scenes = document.querySelectorAll(".scene");
  
  buttons.forEach(btn => {
    btn.addEventListener("click", () => {
      buttons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      scenes.forEach(s => s.style.display = "none");
      document.getElementById("scene" + btn.dataset.scene).style.display = "block";
      
      if (btn.dataset.scene === "4") {
        resetSimulation();
      }
    });
  });

  function updateHashrateDisplay() {
    const total = simulationData.honestHashrate + simulationData.attackerHashrate;
    const honestPercent = (simulationData.honestHashrate / total) * 100;
    const attackerPercent = (simulationDatafunction updateHashrateDisplay() {
    const total = simulationData.honestHashrate + simulationData.attackerHashrate;
    const honestPercent = (simulationData.honestHashrate / total) * 100;
    const attackerPercent = (simulationData.attackerHashrate / total) * 100;
    
    document.getElementById('sim-honest').textContent = simulationData.honestHashrate.toFixed(1) + ' EH/s';
    document.getElementById('sim-attacker').textContent = simulationData.attackerHashrate.toFixed(1) + ' EH/s';
    
    document.getElementById('honest-bar').style.width = honestPercent + '%';
    document.getElementById('attacker-bar').style.width = attackerPercent + '%';
    
    document.getElementById('honest-percent').textContent = honestPercent.toFixed(1) + '% del poder total';
    document.getElementById('attacker-percent').textContent = attackerPercent.toFixed(1) + '% del poder total';
    
    // Actualizar estad√≠sticas
    const costPerTH = 0.1; // $0.1 por TH/s por hora (estimado)
    simulationData.totalCost = (simulationData.attackerHashrate * 1000 * costPerTH);
    document.getElementById('attack-cost').textContent = '$' + (simulationData.totalCost / 1000000).toFixed(1) + 'M';
    
    const successChance = attackerPercent > 51 ? Math.min(95, (attackerPercent - 50) * 2) : 0;
    document.getElementById('success-chance').textContent = successChance.toFixed(0) + '%';
    
    document.getElementById('blocks-mined').textContent = simulationData.blocksMined;
    
    // Actualizar estado de la red
    const networkStatus = document.getElementById('network-status');
    if (attackerPercent > 51) {
      networkStatus.textContent = 'COMPROMETIDA';
      networkStatus.style.color = '#ff6b6b';
    } else if (attackerPercent > 45) {
      networkStatus.textContent = 'EN RIESGO';
      networkStatus.style.color = '#ffcb6b';
    } else {
      networkStatus.textContent = 'SEGURA';
      networkStatus.style.color = '#7cff9e';
    }
  }

  function startAttack() {
    if (simulationData.isAttacking) return;
    
    simulationData.isAttacking = true;
    const log = document.getElementById('simulation-log');
    
    log.innerHTML += '<div style="color: #ff6b6b;">üö® INICIANDO ATAQUE 51%...</div>';
    log.innerHTML += '<div>‚ö° Aumentando hashrate del atacante...</div>';
    
    let attackInterval = setInterval(() => {
      if (simulationData.attackerHashrate < 400) {
        simulationData.attackerHashrate += 10;
        updateHashrateDisplay();
        
        if (simulationData.attackerHashrate > 255) {
          log.innerHTML += '<div style="color: #ff6b6b;">‚ö†Ô∏è ATAQUE DEL 51% DETECTADO!</div>';
          log.innerHTML += '<div>üîÑ Reorganizando blockchain...</div>';
          log.innerHTML += '<div style="color: #ff6b6b;">üí∞ Double-spend attack ejecutado!</div>';
          
          simulationData.blocksMined += Math.floor(Math.random() * 3) + 1;
          updateHashrateDisplay();
        }
      } else {
        clearInterval(attackInterval);
        log.innerHTML += '<div style="color: #ff6b6b;">üéØ ATAQUE COMPLETADO - Red comprometida</div>';
        simulationData.isAttacking = false;
      }
      
      // Auto scroll del log
      log.scrollTop = log.scrollHeight;
    }, 1000);
  }

  function increaseHashrate() {
    if (simulationData.attackerHashrate < 500) {
      simulationData.attackerHashrate += 25;
      updateHashrateDisplay();
      
      const log = document.getElementById('simulation-log');
      log.innerHTML += '<div>üìà Hashrate aumentado a ' + simulationData.attackerHashrate.toFixed(1) + ' EH/s</div>';
      
      if (simulationData.attackerHashrate > 255) {
        log.innerHTML += '<div style="color: #ff6b6b;">‚ö†Ô∏è Umbral del 51% superado!</div>';
      }
      
      log.scrollTop = log.scrollHeight;
    }
  }

  function resetSimulation() {
    simulationData = {
      honestHashrate: 300,
      attackerHashrate: 200,
      totalCost: 0,
      blocksMined: 0,
      isAttacking: false
    };
    
    updateHashrateDisplay();
    
    const log = document.getElementById('simulation-log');
    log.innerHTML = `
      <div>üü¢ Red Bitcoin reiniciada...</div>
      <div>‚õèÔ∏è Mineros honestos trabajando...</div>
      <div>üîí Red segura con distribuci√≥n descentralizada</div>
    `;
  }

  // Animaci√≥n autom√°tica de minado
  setInterval(() => {
    const miningBlocks = document.querySelectorAll('.block-mining');
    miningBlocks.forEach(block => {
      if (Math.random() < 0.3) {
        block.classList.remove('block-mining');
        block.innerHTML = '<div class="block-number">' + (865120 + Math.floor(Math.random() * 10)) + '</div><div class="block-detail">nuevo</div>';
        
        // Crear nuevo bloque en minado
        setTimeout(() => {
          const newBlock = document.createElement('div');
          newBlock.className = 'block block-mining';
          newBlock.innerHTML = '<div class="block-number">‚õèÔ∏è</div><div class="block-detail">minando...</div>';
          block.parentNode.appendChild(newBlock);
        }, 500);
      }
    });
  }, 5000);

  // Inicializar simulaci√≥n
  updateHashrateDisplay();
</script>

</body>
</html>